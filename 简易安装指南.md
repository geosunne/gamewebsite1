# BTW Games - 简易安装指南

## 🚀 快速开始

### 方式一：自动安装脚本（推荐）

```bash
# 克隆项目
git clone <repository-url>
cd gamewebsite1

# 运行安装脚本
./setup.sh
# 选择 1 进行本地开发环境安装
```

### 方式二：手动安装

#### 1. 安装依赖

```bash
# 创建虚拟环境
python3 -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# 安装Python包
pip install -r requirements.txt
```

#### 2. 配置环境

```bash
# 复制环境配置文件
cp .env .env.local

# .env 文件内容:
DATABASE_URL=sqlite:///btw_games.db
FLASK_ENV=development
SECRET_KEY=your-secret-key-here
GOOGLE_ANALYTICS_ID=G-SM7PBYVK97
GOOGLE_ADSENSE_CLIENT=ca-pub-8930741225505243
```

#### 3. 初始化数据库

```bash
# 创建数据库表
python init_db.py

# 填充示例数据
python seed_data.py
```

#### 4. 启动服务

```bash
python run.py
```

## 🌐 访问应用

启动成功后，在浏览器访问：

- **首页**: http://localhost:5000
- **游戏列表**: http://localhost:5000/games.html
- **管理后台**: http://localhost:5000/admin.html
- **API文档**: http://localhost:5000/api/games

## 🔧 管理后台使用

1. 访问 http://localhost:5000/admin.html
2. 首次访问需要设置API密钥：`admin-api-key-change-in-production`
3. 然后可以管理游戏、查看统计等

## 🐳 Docker方式（可选）

如果你有Docker环境：

```bash
# 启动所有服务
docker-compose up -d

# 初始化数据库
docker-compose exec web python seed_data.py
```

## 📁 项目结构简介

```
gamewebsite1/
├── app.py              # Flask主应用
├── models.py           # 数据库模型
├── routes/             # API路由
├── static/             # 前端文件
├── init_db.py          # 数据库初始化
├── seed_data.py        # 示例数据
├── run.py              # 启动脚本
└── requirements.txt    # Python依赖
```

## ❓ 常见问题

### Q: 启动失败，提示模块不存在
A: 确保激活了虚拟环境并安装了所有依赖：
```bash
source venv/bin/activate
pip install -r requirements.txt
```

### Q: 数据库错误
A: 重新初始化数据库：
```bash
rm btw_games.db  # 删除旧数据库
python init_db.py
python seed_data.py
```

### Q: 端口被占用
A: 修改端口（在 run.py 中修改或设置环境变量）：
```bash
export PORT=8000
python run.py
```

## 🎮 示例数据

系统预装了6个示例游戏：
- Monster Survivors (动作)
- Puzzle Master (益智)
- Racing Fever (竞速)
- Space Explorer (冒险)
- Tower Defense Pro (策略)
- Ninja Warrior (动作)

## 📞 技术支持

如遇问题，请检查：
1. Python版本是否为3.11+
2. 虚拟环境是否正确激活
3. 所有依赖包是否正确安装
4. 数据库文件是否正确创建